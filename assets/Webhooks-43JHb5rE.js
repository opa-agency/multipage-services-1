import{j as o,c as t,k as s,o as a}from"./index-CPWnClLb.js";const c={},d={class:"prose prose-zinc dark:prose-invert max-w-4xl"};function n(i,e){return a(),t("div",d,[...e[0]||(e[0]=[s('<h1>Webhooks</h1><p class="lead">In this guide, we will look at how to register and consume webhooks to integrate your app with Protocol. With webhooks, your app can know when something happens in Protocol, such as someone sending a message or adding a contact.</p><h2>Registering webhooks</h2><p>To register a new webhook, you need to have a URL in your app that Protocol can call. You can configure a new webhook from the Protocol dashboard under API settings. Give your webhook a name, pick the events you want to listen for, and add your URL.</p><p>Now, whenever something of interest happens in your app, a webhook is fired off by Protocol. In the next section, we&#39;ll look at how to consume webhooks.</p><h2>Consuming webhooks</h2><p>When your app receives a webhook request from Protocol, check the `type` attribute to see what event caused it. The first part of the event type will tell you the payload type, e.g., a conversation, message, etc.</p><div class="bg-zinc-900 dark:bg-zinc-950 rounded-lg p-4 my-6 overflow-x-auto"><pre class="text-zinc-200 m-0"><code>{\n  &quot;id&quot;: &quot;a056V7R7NmNRjl70&quot;,\n  &quot;type&quot;: &quot;conversation.updated&quot;,\n  &quot;payload&quot;: {&quot;id&quot;: &quot;WAz8eIbvDR60rouK&quot;}\n}</code></pre></div><p>In the example above, a conversation was `updated`, and the payload type is a `conversation`.</p><h2>Event types</h2><p>The following events are supported by the Protocol API:</p><div class="grid md:grid-cols-2 gap-6 my-8"><div><h3 class="text-base font-semibold mb-3">Contact events</h3><ul class="space-y-2 text-sm"><li><code>contact.created</code> - A new contact was created.</li><li><code>contact.updated</code> - An existing contact was updated.</li><li><code>contact.deleted</code> - A contact was successfully deleted.</li></ul></div><div><h3 class="text-base font-semibold mb-3">Conversation events</h3><ul class="space-y-2 text-sm"><li><code>conversation.created</code> - A new conversation was created.</li><li><code>conversation.updated</code> - An existing conversation was updated.</li><li><code>conversation.deleted</code> - A conversation was successfully deleted.</li></ul></div><div><h3 class="text-base font-semibold mb-3">Message events</h3><ul class="space-y-2 text-sm"><li><code>message.created</code> - A new message was created.</li><li><code>message.updated</code> - An existing message was updated.</li><li><code>message.deleted</code> - A message was successfully deleted.</li></ul></div><div><h3 class="text-base font-semibold mb-3">Group events</h3><ul class="space-y-2 text-sm"><li><code>group.created</code> - A new group was created.</li><li><code>group.updated</code> - An existing group was updated.</li><li><code>group.deleted</code> - A group was successfully deleted.</li></ul></div></div>',12)])])}const r=o(c,[["render",n]]);export{r as default};
